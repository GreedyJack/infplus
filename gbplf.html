<html>
  <head><meta charset="utf-8" /></head>
  <body>
    <textarea oninput="xxx(this.value);"></textarea>
    <div id="translated"></div>
    <script>
      function xxx(text){
        "use strict";
        var input = text.split("");
        var mapen="QWERTYUIOP{}ASDFGHJKL:\"ZXCVBNM<>?qwertyuiop[]asdfghjkl;'zxcvbnm,./";
        var mapru="ЙЦУКЕНГШЩЗХЪФЫВАПРОЛДЖЭЯЧСМИТЬБЮ,йцукенгшщзхъфывапролджэячсмитьбю.";
        for(var i=0; i<input.length; i++){
          if(mapen.indexOf(input[i])!==-1) input[i]=mapru[mapen.indexOf(input[i])];
          else if(mapru.indexOf(input[i])!==-1) input[i]=mapen[mapru.indexOf(input[i])];
        }
        document.getElementById("translated").innerText = input.join("");
      }
    </script>
  </body>
</html>